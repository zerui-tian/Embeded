C51 COMPILER V9.60.0.0   1602                                                              09/26/2021 01:52:31 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE 1602
OBJECT MODULE PLACED IN 1602.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE 1602.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*********************************************************************************
   2          * 【编写时间】： 2014年3月5日
   3          * 【作    者】： 清翔电子:03
   4          * 【版    本】： 1.0
   5          * 【网    站】： http://www.qxmcu.com/ 
   6          * 【淘宝店铺】： http://qxmcu.taobao.com/ 
   7          * 【实验平台】： QX-MCS51 单片机开发板
   8          * 【外部晶振】： 11.0592mhz 
   9          * 【主控芯片】： STC89C52
  10          * 【编译环境】： Keil μVisio3  
  11          * 【程序功能】： 1602渐入显示                                   
  12          * 【使用说明】： 液晶1脚接1602黑色排母的1脚  如果是无背光的液晶只有14个脚 排母右边空2个位   
  13                           请把液晶对比度电位器顺时针调制10点钟方向，请勿多调超出极限位置会损坏电位器！
  14          
  15          
  16          *  说明：免费开源，不提供源代码分析.
  17          **********************************************************************************/
  18          
  19          #include<reg52.h>
  20          #define uchar unsigned char
  21          #define uint unsigned int
  22          sbit lcden=P2^5;
  23          sbit rs=P2^7;
  24          sbit rw=P2^6;
  25          sbit test = P3^4;
  26          uchar table1[]="QX-MCS51  MCU";
  27          uchar table2[]="  Thank you  ";
  28          void delay(uint x)
  29          {
  30   1        uint a,b;
  31   1        for(a=x;a>0;a--)
  32   1          for(b=10;b>0;b--); 
  33   1      }
  34          
  35          void delay1(uint x)
  36          {
  37   1        uint a,b;
  38   1        for(a=x;a>0;a--)
  39   1          for(b=100;b>0;b--); 
  40   1      }
  41          
  42          void write_com(uchar com)
  43          {
  44   1        P0=com;
  45   1        rs=0;
  46   1        lcden=0;
  47   1        delay(10);
  48   1        lcden=1;
  49   1        delay(10);
  50   1        lcden=0;
  51   1        
  52   1      }
  53          
  54          void write_date(uchar date)
  55          {
C51 COMPILER V9.60.0.0   1602                                                              09/26/2021 01:52:31 PAGE 2   

  56   1        P0=date;
  57   1        rs=1;
  58   1        lcden=0;
  59   1        delay(10);
  60   1        lcden=1;
  61   1        delay(10);
  62   1        lcden=0;
  63   1        
  64   1      }
  65          
  66          void init()
  67          {
  68   1              rw=0;
  69   1        write_com(0x38);   //显示模式设置：16×2显示，5×7点阵，8位数据接口
  70   1        delay(20);
  71   1        write_com(0x0f);   //显示模式设置
  72   1        delay(20);
  73   1        write_com(0x06);   //显示模式设置：光标右移，字符不移
  74   1        delay(20);
  75   1        write_com(0x01);   //清屏幕指令，将以前的显示内容清除
  76   1        delay(20);  
  77   1      }
  78          
  79          void main()
  80          {
  81   1        uchar a;
  82   1        init();
  83   1        test = 0;
  84   1        write_com(0x80+17);  //将第一个字符写在向右偏移17个字符处，为后面的由右向左划入做准备。
  85   1        delay(20);
  86   1        for(a=0;a<13;a++)
  87   1        {
  88   2        write_date(table1[a]);
  89   2        delay(20);    
  90   2        }
  91   1      
  92   1        write_com(0xc0+17);
  93   1        delay(50);
  94   1        for(a=0;a<13;a++)
  95   1        {
  96   2        write_date(table2[a]);
  97   2        delay(40);    
  98   2        }
  99   1      
 100   1        for(a=0;a<16;a++)
 101   1        {
 102   2          write_com(0x18); //左移
 103   2          delay1(600);
 104   2        }
 105   1        while(1){
 106   2          delay(100);
 107   2          test = ~test;
 108   2        };
 109   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    264    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     28    ----
C51 COMPILER V9.60.0.0   1602                                                              09/26/2021 01:52:31 PAGE 3   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
